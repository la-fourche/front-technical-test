{"ast":null,"code":"var _jsxFileName = \"/Users/mehditagaizine/Dev/front-technical-test/front/pages/product.tsx\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\n\nclass Product extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"filterData\", myParam => {\n      const {\n        data: d\n      } = this.props;\n      const myData = d.filter(el => el.objectID == myParam);\n      console.log(myData);\n    });\n  }\n\n  componentDidMount() {\n    const self = this;\n    const verif = JSON.parse(localStorage.getItem('myKey:546726736522537625467'));\n\n    if (verif.length > 0) {\n      console.log(\"storage Call\");\n      self.props.dispatch({\n        type: 'SET',\n        data: verif\n      });\n    } else {\n      console.log(\"api Call\");\n      axios.get(`http://0.0.0.0:8080/products`).then(({\n        headers,\n        data\n      }) => {\n        const pages_ = parseInt(headers['x-total-count']) / 20;\n        self.setState({\n          pages: pages_\n        });\n        localStorage.setItem('myKey:546726736522537625467', JSON.stringify(data));\n        self.props.dispatch({\n          type: 'SET',\n          data\n        });\n      });\n    }\n  }\n\n  componentDidUpdate(prev) {\n    const {\n      data\n    } = this.props;\n\n    if (prev.data != data) {\n      const urlParams = new URLSearchParams(window.location.search);\n      const myParam = urlParams.get('id');\n      console.log(myParam);\n      this.filterData(myParam);\n    }\n  }\n\n  render() {\n    const {\n      data\n    } = this.props; // console.log(data.filter(el => ));\n\n    return __jsx(\"div\", {\n      style: {\n        padding: '30px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, \"hi\");\n  }\n\n}\n\nexport default connect(s => s)(Product);","map":{"version":3,"sources":["/Users/mehditagaizine/Dev/front-technical-test/front/pages/product.tsx"],"names":["React","connect","axios","Product","Component","myParam","data","d","props","myData","filter","el","objectID","console","log","componentDidMount","self","verif","JSON","parse","localStorage","getItem","length","dispatch","type","get","then","headers","pages_","parseInt","setState","pages","setItem","stringify","componentDidUpdate","prev","urlParams","URLSearchParams","window","location","search","filterData","render","padding","s"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,OAAN,SAAsBH,KAAK,CAACI,SAA5B,CAAsC;AAAA;AAAA;;AAAA,wCAiCtBC,OAAD,IAAa;AACxB,YAAM;AAACC,QAAAA,IAAI,EAACC;AAAN,UAAgB,KAAKC,KAA3B;AACA,YAAMC,MAAM,GAAGF,CAAC,CAACG,MAAF,CAASC,EAAE,IAAIA,EAAE,CAACC,QAAH,IAAeP,OAA9B,CAAf;AACAQ,MAAAA,OAAO,CAACC,GAAR,CAAYL,MAAZ;AACD,KArCmC;AAAA;;AACpCM,EAAAA,iBAAiB,GAAE;AACjB,UAAMC,IAAS,GAAG,IAAlB;AACA,UAAMC,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,6BAArB,CAAX,CAAd;;AACA,QAAIJ,KAAK,CAACK,MAAN,GAAe,CAAnB,EAAsB;AACpBT,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACAE,MAAAA,IAAI,CAACR,KAAL,CAAWe,QAAX,CAAoB;AAClBC,QAAAA,IAAI,EAAE,KADY;AAElBlB,QAAAA,IAAI,EAAEW;AAFY,OAApB;AAID,KAND,MAMO;AACLJ,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACAZ,MAAAA,KAAK,CAACuB,GAAN,CAAW,8BAAX,EAA0CC,IAA1C,CAA+C,CAAC;AAACC,QAAAA,OAAD;AAAUrB,QAAAA;AAAV,OAAD,KAAqB;AAClE,cAAMsB,MAAM,GAAGC,QAAQ,CAACF,OAAO,CAAC,eAAD,CAAR,CAAR,GAAqC,EAApD;AACAX,QAAAA,IAAI,CAACc,QAAL,CAAc;AAACC,UAAAA,KAAK,EAACH;AAAP,SAAd;AACAR,QAAAA,YAAY,CAACY,OAAb,CAAqB,6BAArB,EAAoDd,IAAI,CAACe,SAAL,CAAe3B,IAAf,CAApD;AACAU,QAAAA,IAAI,CAACR,KAAL,CAAWe,QAAX,CAAoB;AAClBC,UAAAA,IAAI,EAAE,KADY;AAElBlB,UAAAA;AAFkB,SAApB;AAID,OARD;AASD;AAEF;;AACD4B,EAAAA,kBAAkB,CAACC,IAAD,EAAM;AACtB,UAAM;AAAE7B,MAAAA;AAAF,QAAe,KAAKE,KAA1B;;AACA,QAAI2B,IAAI,CAAC7B,IAAL,IAAaA,IAAjB,EAAsB;AACpB,YAAM8B,SAAS,GAAG,IAAIC,eAAJ,CAAoBC,MAAM,CAACC,QAAP,CAAgBC,MAApC,CAAlB;AACA,YAAMnC,OAAO,GAAG+B,SAAS,CAACX,GAAV,CAAc,IAAd,CAAhB;AACAZ,MAAAA,OAAO,CAACC,GAAR,CAAYT,OAAZ;AACA,WAAKoC,UAAL,CAAgBpC,OAAhB;AACD;AACF;;AAMDqC,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEpC,MAAAA;AAAF,QAAgB,KAAKE,KAA3B,CADO,CAGP;;AACA,WACE;AAAK,MAAA,KAAK,EAAE;AAAEmC,QAAAA,OAAO,EAAE;AAAX,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAKD;;AA/CmC;;AAmDtC,eAAe1C,OAAO,CAAC2C,CAAC,IAAIA,CAAN,CAAP,CAAgBzC,OAAhB,CAAf","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\n\nclass Product extends React.Component {\n  componentDidMount(){\n    const self: any = this;\n    const verif = JSON.parse(localStorage.getItem('myKey:546726736522537625467'));\n    if (verif.length > 0) {\n      console.log(\"storage Call\");\n      self.props.dispatch({\n        type: 'SET',\n        data: verif,\n      });\n    } else {\n      console.log(\"api Call\");\n      axios.get(`http://0.0.0.0:8080/products`).then(({headers, data}) => {\n        const pages_ = parseInt(headers['x-total-count']) / 20;\n        self.setState({pages:pages_});\n        localStorage.setItem('myKey:546726736522537625467', JSON.stringify(data))\n        self.props.dispatch({\n          type: 'SET',\n          data,\n        });\n      })\n    }\n    \n  }\n  componentDidUpdate(prev){\n    const { data }:any = this.props;\n    if (prev.data != data){\n      const urlParams = new URLSearchParams(window.location.search);\n      const myParam = urlParams.get('id');\n      console.log(myParam)\n      this.filterData(myParam);\n    }\n  }\n  filterData = (myParam) => {\n    const {data:d}: any = this.props;\n    const myData = d.filter(el => el.objectID == myParam);\n    console.log(myData)\n  }\n  render (){\n    const { data }: any = this.props;\n    \n    // console.log(data.filter(el => ));\n    return (\n      <div style={{ padding: '30px' }}>\n        hi\n      </div>\n    );\n  };\n\n}\n\nexport default connect(s => s)(Product);"]},"metadata":{},"sourceType":"module"}