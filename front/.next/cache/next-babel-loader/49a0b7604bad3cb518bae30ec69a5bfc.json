{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/mehditagaizine/Dev/front-technical-test/front/pages/product.tsx\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport Link from 'next/link';\n\nvar Product =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Product, _React$Component);\n\n  function Product() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Product);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Product)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      product: {}\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"filterData\", function (myParam) {\n      var d = _this.props.data;\n      var myData = d.filter(function (el) {\n        return el.objectID == myParam;\n      });\n      if (myData.length > 0) _this.setState({\n        product: myData[0]\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(Product, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var self = this;\n      var verif = JSON.parse(localStorage.getItem('myKey:546726736522537625467'));\n      var d = this.props.data;\n      var urlParams = new URLSearchParams(window.location.search);\n      var myParam = urlParams.get('id');\n\n      if (d.length === 0) {\n        if (verif.length > 0) {\n          self.props.dispatch({\n            type: 'SET',\n            data: verif\n          });\n          this.filterData(myParam);\n        } else {\n          console.log('ger');\n          axios.get(\"http://0.0.0.0:8080/products?objectID=\".concat(myParam)).then(function (_ref) {\n            var headers = _ref.headers,\n                data = _ref.data;\n            console.log(data, \"http://0.0.0.0:8080/products?objectID=\".concat(myParam));\n            self.setState({\n              product: data[0]\n            });\n          });\n        }\n      } else {\n        this.filterData(myParam);\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prev) {\n      var data = this.props.data;\n\n      if (prev.data != data) {\n        var urlParams = new URLSearchParams(window.location.search);\n        var myParam = urlParams.get('id');\n        this.filterData(myParam);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var product = this.state.product;\n      var data = this.props.data;\n      var title = product.title,\n          image = product.image,\n          price = product.price,\n          compare_at_price = product.compare_at_price,\n          vendor = product.vendor,\n          weight = product.weight,\n          sku = product.sku,\n          inventory_quantity = product.inventory_quantity,\n          body_html_safe = product.body_html_safe;\n      return __jsx(\"div\", {\n        style: {\n          padding: '30px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, __jsx(Link, {\n        href: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, \"Retour\")), __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, __jsx(\"img\", {\n        style: {\n          width: '300px'\n        },\n        src: image,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      })), __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, title), __jsx(\"div\", {\n        style: {\n          textDecoration: 'line-through'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, compare_at_price, \"\\u20AC\"), __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, price, \"\\u20AC\"), __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, \"Quantit\\xE9 : \", inventory_quantity), __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"La description: \", body_html_safe ? body_html_safe : \"-\"), __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"Le fabriquant : \", vendor), __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, \"Le poids: \", weight), __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"Le SKU: \", sku), __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, inventory_quantity > 0 ? __jsx(\"button\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"Ajouter au panier\") : __jsx(\"button\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"Me notifier quand le produit est de retour\")));\n    }\n  }]);\n\n  return Product;\n}(React.Component);\n\nexport default connect(function (s) {\n  return s;\n})(Product);","map":{"version":3,"sources":["/Users/mehditagaizine/Dev/front-technical-test/front/pages/product.tsx"],"names":["React","connect","axios","Link","Product","product","myParam","d","props","data","myData","filter","el","objectID","length","setState","self","verif","JSON","parse","localStorage","getItem","urlParams","URLSearchParams","window","location","search","get","dispatch","type","filterData","console","log","then","headers","prev","state","title","image","price","compare_at_price","vendor","weight","sku","inventory_quantity","body_html_safe","padding","width","textDecoration","Component","s"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport Link from 'next/link';\n\nclass Product extends React.Component {\n  state = {\n    product: {},\n  }\n  componentDidMount(){\n    const self: any = this;\n    const verif = JSON.parse(localStorage.getItem('myKey:546726736522537625467'));\n    const { data:d }: any = this.props;\n    const urlParams = new URLSearchParams(window.location.search);\n    const myParam = urlParams.get('id');\n    if (d.length === 0) {\n      if (verif.length > 0) {\n        self.props.dispatch({\n          type: 'SET',\n          data: verif,\n        });\n        this.filterData(myParam);\n      } else {\n        console.log('ger')\n        axios.get(`http://0.0.0.0:8080/products?objectID=${myParam}`).then(({headers, data}) => {\n          console.log(data, `http://0.0.0.0:8080/products?objectID=${myParam}`);\n          self.setState({\n            product:data[0],\n          });\n        })\n      }\n    } else {\n      this.filterData(myParam);\n    }\n  }\n  componentDidUpdate(prev){\n    const { data }:any = this.props;\n    if (prev.data != data){\n      const urlParams = new URLSearchParams(window.location.search);\n      const myParam = urlParams.get('id');\n      this.filterData(myParam);\n    }\n  }\n  filterData = (myParam) => {\n    const {data:d}: any = this.props;\n    const myData = d.filter(el => el.objectID == myParam);\n    if (myData.length > 0)\n      this.setState({ product: myData[0] })\n  }\n  render (){\n    const { product }: any = this.state;\n    const { data }: any = this.props;\n    const { title, image, price, compare_at_price, vendor, weight, sku, inventory_quantity, body_html_safe }: any = product;\n    return (\n      <div style={{ padding: '30px' }}>\n        <div><Link href=\"/\">Retour</Link></div>\n        <div><img style={{width:'300px'}} src={image}/></div>\n        <div>{title}</div>\n        <div style={{textDecoration: 'line-through'}}>{compare_at_price}€</div>\n        <div>{price}€</div>\n        <div>Quantité : {inventory_quantity}</div>\n        <div>La description: {body_html_safe?body_html_safe:\"-\"}</div>\n        <div>Le fabriquant : {vendor}</div>\n        <div>Le poids: {weight}</div>\n        <div>Le SKU: {sku}</div>\n        <div>\n          {inventory_quantity > 0 ? <button>Ajouter au panier</button> : <button>Me notifier quand le produit est de retour</button>}\n          {/* Un bouton \"Ajouter au panier\" si l'article est en stock ou un bouton \"Me notifier quand le produit est de retour\" sinon (les boutons ne seront reliés à rien)</div> */}\n        </div>\n      </div>\n    );\n  };\n\n}\n\nexport default connect(s => s)(Product);"]},"metadata":{},"sourceType":"module"}