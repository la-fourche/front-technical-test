{"version":3,"file":"static/webpack/static/development/pages/product.js.aceb56dbe481eb66adea.hot-update.js","sources":["webpack:///./pages/product.tsx"],"sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\n\nclass Product extends React.Component {\n  state = {\n    product: {},\n  }\n  componentDidMount(){\n    const self: any = this;\n    const verif = JSON.parse(localStorage.getItem('myKey:546726736522537625467'));\n    if (verif.length > 0) {\n      console.log(\"storage Call\");\n      self.props.dispatch({\n        type: 'SET',\n        data: verif,\n      });\n    } else {\n      console.log(\"api Call\");\n      axios.get(`http://0.0.0.0:8080/products`).then(({headers, data}) => {\n        const pages_ = parseInt(headers['x-total-count']) / 20;\n        self.setState({pages:pages_});\n        localStorage.setItem('myKey:546726736522537625467', JSON.stringify(data))\n        self.props.dispatch({\n          type: 'SET',\n          data,\n        });\n      })\n    }\n    \n  }\n  componentDidUpdate(prev){\n    const { data }:any = this.props;\n    if (prev.data != data){\n      const urlParams = new URLSearchParams(window.location.search);\n      const myParam = urlParams.get('id');\n      console.log(myParam)\n      this.filterData(myParam);\n    }\n  }\n  filterData = (myParam) => {\n    const {data:d}: any = this.props;\n    const myData = d.filter(el => el.objectID == myParam);\n    console.log(myData)\n    if (myData.length > 0)\n      this.setState({ product: myData[0] })\n  }\n  render (){\n    const { product } = this.state;\n    console.log(product);\n    return (\n      <div style={{ padding: '30px' }}>\n        hi\n      </div>\n    );\n  };\n\n}\n\nexport default connect(s => s)(Product);"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AACA;AACA;AADA;AACA;AAkCA;AAAA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;;;;;;AAvCA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAEA;;;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAQA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;;;;AAnDA;AACA;AAsDA;AAAA;AAAA;;;;A","sourceRoot":""}